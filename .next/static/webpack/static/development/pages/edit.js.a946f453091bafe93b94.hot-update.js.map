{"version":3,"file":"static/webpack/static/development/pages/edit.js.a946f453091bafe93b94.hot-update.js","sources":["webpack:///./src/components/Products/Edit/Edit.tsx"],"sourcesContent":["import React, { useState, useEffect, SyntheticEvent } from 'react';\nimport axios from '../../../axios-orders';\nimport { useRouter } from 'next/router';\nimport Router from 'next/router';\nimport cookie from 'js-cookie';\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBInput,\n  MDBBtn,\n  MDBCard,\n  MDBCardBody\n} from 'mdbreact';\n\nexport const EditProduct = props => {\n  const [name, setName] = useState<string>('');\n  const [brand, setBrand] = useState<string>('');\n  const [price, setPrice] = useState<string>('');\n  const [image, setImage] = useState<string>('');\n  const [description, setDescription] = useState<string>('');\n\n  const handleNameChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    setName(event.target.value);\n  const handleBrandChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    setBrand(event.target.value);\n  const handlePriceChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    setPrice(event.target.value);\n  const handleImageChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    setImage(event.target.value);\n  const handleDescriptionChange = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => setDescription(event.target.value);\n\n  const router = useRouter();\n  const { id } = router.query;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`/product/${id}`);\n        setName(response.data.name);\n        setBrand(response.data.brand);\n        setPrice(response.data.price);\n        setImage(response.data.image);\n        setDescription(response.data.description);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchData();\n  }, [props]);\n\n  const handleSubmit = async (event: SyntheticEvent) => {\n    event.preventDefault();\n    const obj = {\n      name: name,\n      brand: brand,\n      price: price,\n      image: image,\n      description: description\n    };\n\n    const token = cookie.get('jwtToken');\n    await axios.patch(`/product/${id}`, obj, {\n      headers: {\n        Authorization: `${token}`\n      }\n    });\n    Router.push(`/product/${id}`);\n  };\n\n  return (\n    <>\n      <MDBContainer>\n        <MDBRow className=\"justify-content-center mt-5\">\n          <MDBCol md=\"6\">\n            <MDBCard>\n              <MDBCardBody>\n                <form onSubmit={handleSubmit}>\n                  <p className=\"h4 text-center py-1\">Edit Product</p>\n                  <div className=\"grey-text\">\n                    <MDBInput\n                      label=\"Name\"\n                      icon=\"user\"\n                      group\n                      type=\"text\"\n                      value={name}\n                      onChange={handleNameChange}\n                      validate\n                      error=\"wrong\"\n                      success=\"right\"\n                    />\n                    <MDBInput\n                      label=\"Brand\"\n                      icon=\"mobile\"\n                      group\n                      type=\"text\"\n                      value={brand}\n                      onChange={handleBrandChange}\n                      validate\n                      error=\"wrong\"\n                      success=\"right\"\n                    />\n                    <MDBInput\n                      label=\"Price\"\n                      icon=\"tag\"\n                      group\n                      type=\"number\"\n                      value={price}\n                      onChange={handlePriceChange}\n                      validate\n                      error=\"wrong\"\n                      success=\"right\"\n                    />\n                    <MDBInput\n                      label=\"Image\"\n                      icon=\"image\"\n                      group\n                      type=\"text\"\n                      value={image}\n                      onChange={handleImageChange}\n                      validate\n                      error=\"wrong\"\n                      success=\"right\"\n                    />\n                    <MDBInput\n                      label=\"Description\"\n                      icon=\"pencil-alt\"\n                      group\n                      type=\"text\"\n                      value={description}\n                      onChange={handleDescriptionChange}\n                      validate\n                    />\n                  </div>\n                  <div className=\"text-center\">\n                    <MDBBtn color=\"cyan\" type=\"submit\">\n                      Edit Product\n                    </MDBBtn>\n                  </div>\n                </form>\n              </MDBCardBody>\n            </MDBCard>\n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    </>\n  );\n};\n\nexport default EditProduct;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAUA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AAnBA;AAsBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AACA;AADA;AAAA;AAAA;AASA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AAVA;AAAA;AAYA;AACA;AADA;AADA;AACA;AAZA;AAgBA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAkBA;AAGA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAAA;AACA;AAAA;AAAA;AAYA;AAEA;;;;A","sourceRoot":""}